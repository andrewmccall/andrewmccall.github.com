---
layout: post
title: Salt your passwords.
published: true
---
<p>Gawker media is the latest in a long list of compromised systems that have&nbsp;<a href="http://thenextweb.com/media/2010/12/13/gawker-hackers-release-file-with-ftp-author-reader-usernamespasswords/">exposed user passwords.</a>&nbsp;Unlike when it happened to the&nbsp;<a href="http://andrewmccall.com/2010/04/apache-falls-victim-to-jira-xss-exploit">ASF a few months ago,</a>&nbsp;I'm unaffected.</p>
<p />
<div><a href="http://blogs.forbes.com/firewall/2010/12/13/the-lessons-of-gawkers-security-mess/">Forbes</a>&nbsp;and others are banging on about weak encryption being the problem, it's not. Passwords aren't encrypted generally, they're passed through a one way&nbsp;<a href="http://en.wikipedia.org/wiki/Hash_function">hash function</a>. You can't undo the hash, so you can't decrypt the passwords. When you hash the same value though it will always produce the same hash - so you can ask a user for their password, hash the value they enter and check that against the hash you've stored.</div>
<p />
<div>The relative strengths of one hash function vs another actually makes very little difference when it comes to passwords. As long as it's collision free for the set of possible passwords, which almost all will be, they're really strong enough no matter how old they are.&nbsp;</div>
<p />
<div>
<div>Gawker made a basic mistake that even the most advanced algorithm wouldn't help, they're not salting their passwords.&nbsp;
<p />
</div>
</div>
<div><br />
<div>
<div>Cracking hashed passwords involves computing the hashes until you create the same hashed value. You run the algorithm across a list of know common passwords, dictionary words and common variations. The same value will always produce the same hash, so everyone who uses the same password will also always have the same hash. You just need to compute all the common/obvious ones and look at all the users to find the ones with that match your list. Lots of those users will probably be using their password for email and other services too... oops.</div>
<p />
<div>Salting adds something unique to a user, say their email address or ID, forcing an&nbsp;attacker to compute every possible password for each user individually. &nbsp;Even if two users have chosen the same password they will have a different hash.&nbsp;The better the salt you can choose, the more work an attacker has to do to get passwords.</div>
<p />
<div>It's not a panacea though, you've still exposed their details and given enough time a determined attacker can and will be able to recover every last password. What it gives you is time to disclose the breach and your users time to change their passwords on other services which may be the same.</div>
</div>
<p />
<div><strong>UPDATE: <em>I've added a new post with some more thoughts, clarifications and corrections <a href="http://andrewmccall.com/even-more-secure-passwords">here</a></em></strong></div>
</div>
